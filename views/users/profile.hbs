<div class="card m-auto shadow p-3 mb-5 bg-white rounded">
  <div class="row g-0">
    <div class="col-md-5 d-flex align-items-center justify-content-center">
      <img class="rounded-circle" src={{#if user.image }}"{{user.image}}" {{else}}"https://loremflickr.com/320/240/person/?lock=81"{{/if}}
        style="width: 200px; height: 200px; margin-bottom: 25px; transition: opacity 0.5s; opacity:0;"
        onload="this.style.opacity=1;">
    </div>
    <div class="col-md-7">
      <div class="card-body">
        <h2 class="card-title">{{ user.name }}</h2>
        <p class="card-text">{{ user.email }}</p>
        <p class="card-text">{{ user.Comments.length }} Reviewed Restaurants </p>
        <p class="card-text">{{ user.FavoritedRestaurants.length }} Favorite Restaurants</p>
        <p class="card-text">{{ user.Followings.length }} followings</p>
        <p class="card-text">{{ user.Followers.length }} followers</p>
        <div class="d-flex justify-content-start mt-3">
          <a class="btn btn-primary me-2" href="/users/{{user.id}}/edit">Edit</a>
          <a class="btn btn-outline-secondary" href="javascript:history.back()">Back</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-5">
    <div class="card my-3">
      <h5 class="card-header">
        {{ user.Followings.length }} Followings
      </h5>
      <div class="card-body">
        {{#if user.Followings}}
        {{#each user.Followings}}
        <a href="/users/{{this.id}}"><img class="rounded-circle me-3" src="{{this.image}}"
            style="width: 80px; height: 80px; margin-bottom: 25px; transition: opacity 0.5s; opacity:0;"
            onload="this.style.opacity=1;"></a>
        {{/each}}
        {{else}}
        <p>No Followings</p>
        {{/if}}
      </div>
    </div>

    <div class="card my-3">
      <h5 class="card-header">
        {{ user.Followers.length }} Followers
      </h5>
      <div class="card-body">
        {{#if user.Followers}}
        {{#each user.Followers}}
        <a href="/users/{{this.id}}"><img class="rounded-circle me-3" src="{{this.image}}"
            style="width: 80px; height: 80px; margin-bottom: 25px; transition: opacity 0.5s; opacity:0;"
            onload="this.style.opacity=1;"></a>
        {{/each}}
        {{else}}
        <p>No Followers</p>
        {{/if}}
      </div>
    </div>
  </div>
  <div class="col-md-7">
    <div class="card my-3">
      <h5 class="card-header">
        {{ user.Comments.length }} Reviewed Restaurants
      </h5>
      <div class="card-body">
        {{#if user.Comments}}
        {{#each user.Comments}}
        <a href="/restaurants/{{this.restaurantId}}"><img class="rounded-circle me-3" src="{{this.Restaurant.image}}"
            style="width: 80px; height: 80px; margin-bottom: 25px; transition: opacity 0.5s; opacity:0;"
            onload="this.style.opacity=1;"></a>
        {{/each}}
        {{else}}
        <p>No Comments</p>
        {{/if}}
      </div>
    </div>
    <div class="card my-3">
      <h5 class="card-header">
        {{ user.FavoritedRestaurants.length }} Favorite Restaurants
      </h5>
      <div class="card-body">
        {{#if user.FavoritedRestaurants}}
        {{#each user.FavoritedRestaurants}}
        <a href="/restaurants/{{this.id}}"><img class="rounded-circle me-3" src="{{this.image}}"
            style="width: 80px; height: 80px; margin-bottom: 25px; transition: opacity 0.5s; opacity:0;"
            onload="this.style.opacity=1;"></a>
        {{/each}}
        {{else}}
        <p>No Favorite Restaurants</p>
        {{/if}}
      </div>
    </div>
  </div>
</div>
